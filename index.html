<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ikramHakim?</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Code+Latin&display=swa" rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        canvas {
            display: block;
        }

        .draggableDiv {
            position: absolute;
            z-index: 9;
            background-color: transparent;
            /* Set background color to transparent */
            text-align: center;
            font-family: "M PLUS Code Latin", sans-serif;
            color: white;
            /* Set text color to white */
            transform: translate(-10%, -10%);
        }

        .draggableDiv .draggableDivHeader {
            cursor: grab;
        }

        .draggableDiv.dragging {
            cursor: grabbing;
        }

        .gifImage {
            width: 100px;
            /* Set the width of the GIF */
            height: auto;
            /* Maintain aspect ratio */
        }


        #textOverlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-family: "M PLUS Code Latin", sans-serif;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }
    </style>
</head>

<body>
    <div id="textOverlay" class="typing-animation">Hi! I'm a Creative Technologist based in Malaysia.</div>
    <canvas id="myCanvas"></canvas>
    <!-- First draggable GIF -->
    <div class="draggableDiv" id="draggableDiv1" style="top: 70%; left: 70%;">
        <div class="draggableDivHeader">reality-knob 1</div>
        <img class="gifImage" src="gifs/test.gif" alt="Your GIF 1">
    </div>

    <!-- Second draggable GIF -->
    <div class="draggableDiv" id="draggableDiv2" style="top: 15%; left: 20%;">
        <div class="draggableDivHeader">reality-knob 2</div>
        <img class="gifImage" src="gifs/test.gif" alt="Your GIF 2">
    </div>

    <!-- Repeat this pattern for the rest of the GIFs -->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r110/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r110/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r110/examples/js/controls/OrbitControls.js"></script>
    <script src="./index.js"></script>

    <script>

        // Make the DIV elements draggable:
        document.querySelectorAll(".draggableDiv").forEach(function (elmnt) {
            dragElement(elmnt);
        });

        function dragElement(elmnt) {
            var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            var header = elmnt.querySelector(".draggableDivHeader");

            if (header) {
                header.onmousedown = dragMouseDown;
            } else {
                elmnt.onmousedown = dragMouseDown;
            }

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                // get the mouse cursor position at startup:
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                // call a function whenever the cursor moves:
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                // calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                // set the element's new position:
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                // stop moving when mouse button is released:
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }



        window.addEventListener("load", init); // Wait for loading
        window.addEventListener("resize", onResize); // When window resized

        // Existing code goes here...

        // Typing animation
        const textOverlay = document.querySelector("#textOverlay");
        const text = "Hi! I'm a Creative Technologist based in Malaysia.";

        function typeText() {
            let index = 0;
            const type = () => {
                textOverlay.textContent = text.substr(0, index++);
                if (index <= text.length) {
                    setTimeout(type, 100);
                } else {
                    setTimeout(erase, 1000);
                }
            };

            const erase = () => {
                textOverlay.textContent = text.substr(0, index--);
                if (index >= 0) {
                    setTimeout(erase, 50);
                } else {
                    setTimeout(type, 1000);
                }
            };

            type();
        }

        typeText();

        // Cursor-following text
        const cursorText = document.createElement("div");
        cursorText.textContent = "mouse?";
        cursorText.style.position = "absolute";
        cursorText.style.pointerEvents = "none";
        cursorText.style.userSelect = "none";
        cursorText.style.fontSize = "16px";
        cursorText.style.fontFamily = "sans-serif";
        cursorText.style.color = "white";
        cursorText.style.transform = "translate(-50%, -50%)";
        document.body.appendChild(cursorText);

        document.addEventListener("mousemove", (event) => {
            const x = event.clientX;
            const y = event.clientY;
            cursorText.style.left = x + "px";
            cursorText.style.top = y + "px";
        });
    </script>
</body>

</html>
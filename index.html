<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ikramHakim?</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Code+Latin&display=swa" rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        canvas {
            display: block;
        }

        #textOverlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-family: "M PLUS Code Latin", sans-serif;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }
    </style>
</head>

<body onclick="window.open('https://instagram.com/kaberikram', '_blank')">
    <div id="textOverlay" class="typing-animation">Hi! I'm a Creative Technologist based in Malaysia.</div>
    <canvas id="myCanvas"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r110/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r110/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r110/examples/js/controls/OrbitControls.js"></script>
    <script src="./index.js"></script>

    <script>
        window.addEventListener("load", init); // Wait for loading
        window.addEventListener("resize", onResize); // When window resized

        // Existing code goes here...

        // Typing animation
        const textOverlay = document.querySelector("#textOverlay");
        const text = "Hi! I'm a Creative Technologist based in Malaysia.";

        function typeText() {
            let index = 0;
            const type = () => {
                textOverlay.textContent = text.substr(0, index++);
                if (index <= text.length) {
                    setTimeout(type, 100);
                } else {
                    setTimeout(erase, 1000);
                }
            };

            const erase = () => {
                textOverlay.textContent = text.substr(0, index--);
                if (index >= 0) {
                    setTimeout(erase, 50);
                } else {
                    setTimeout(type, 1000);
                }
            };

            type();
        }

        typeText();

        // Cursor-following text
        const cursorText = document.createElement("div");
        cursorText.textContent = "click = interlink";
        cursorText.style.position = "absolute";
        cursorText.style.pointerEvents = "none";
        cursorText.style.userSelect = "none";
        cursorText.style.fontSize = "16px";
        cursorText.style.fontFamily = "sans-serif";
        cursorText.style.color = "white";
        cursorText.style.transform = "translate(-50%, -50%)";
        document.body.appendChild(cursorText);

        document.addEventListener("mousemove", (event) => {
            const x = event.clientX;
            const y = event.clientY;
            cursorText.style.left = x + "px";
            cursorText.style.top = y + "px";
        });
    </script>
</body>

</html>
